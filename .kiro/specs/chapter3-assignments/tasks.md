# Implementation Plan

- [x] 1. 环境准备和项目结构设置
  - 验证 conda 环境 ml 可用并包含所需依赖
  - 创建输出目录结构用于保存结果
  - _Requirements: 1.1, 2.1, 3.1_

- [x] 2. 实现作业1：直方图均衡化程序
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7_

- [x] 2.1 实现直方图计算函数
  - 编写 `calculate_histogram()` 函数计算图像的灰度直方图
  - 返回直方图数组和对应的灰度级bins
  - _Requirements: 1.2_

- [x] 2.2 实现直方图均衡化核心算法
  - 编写 `histogram_equalization()` 函数
  - 计算累积分布函数（CDF）
  - 实现像素值映射变换
  - 返回增强图像和转换函数数据
  - _Requirements: 1.3, 1.4_

- [x] 2.3 实现图像加载和预处理
  - 加载 `实验/第三章/图 a.png`
  - 转换为灰度图像（如果是彩色）
  - 添加错误处理
  - _Requirements: 1.1_

- [x] 2.4 实现可视化展示功能
  - 创建2×3子图布局
  - 显示原始图像、原始直方图、转换函数
  - 显示增强图像、增强直方图、对比说明
  - 添加适当的标题和标签
  - _Requirements: 1.6_

- [x] 2.5 添加结果保存功能
  - 实现保存增强图像的功能
  - 保存完整的可视化结果图
  - _Requirements: 1.7_

- [x] 3. 实现作业2：拉普拉斯锐化程序
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7_

- [x] 3.1 定义拉普拉斯卷积核
  - 实现作业要求指定的拉普拉斯核：[[-1,-1,-1], [-1,8,-1], [-1,-1,-1]]
  - 这是一个包含对角线的3×3拉普拉斯核
  - _Requirements: 2.3_

- [x] 3.2 实现拉普拉斯滤波函数
  - 编写 `laplacian_filter()` 函数
  - 实现2D卷积操作
  - 处理边界填充（反射或零填充）
  - _Requirements: 2.2, 2.4_

- [x] 3.3 实现拉普拉斯锐化算法
  - 编写 `laplacian_sharpen()` 函数
  - 根据式(3.54)实现锐化：g(x,y) = f(x,y) + ∇²f(x,y)（使用正核）
  - 裁剪结果到[0, 255]范围
  - 返回拉普拉斯响应和锐化图像
  - _Requirements: 2.2, 2.5_

- [x] 3.4 实现图像加载和处理
  - 加载 `实验/第三章/图 b.png`
  - 转换为灰度图像
  - 添加错误处理
  - _Requirements: 2.1_

- [x] 3.5 实现可视化展示功能
  - 创建1×3子图布局
  - 显示原始图像、拉普拉斯响应、锐化图像
  - 添加适当的标题和标签
  - _Requirements: 2.6_

- [x] 3.6 添加结果保存功能
  - 保存锐化后的图像
  - 保存完整的可视化结果图
  - _Requirements: 2.7_

- [x] 4. 实现作业3：位平面分析程序
  - _Requirements: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8_

- [x] 4.1 实现位平面提取函数
  - 编写 `extract_bit_planes()` 函数
  - 使用位运算提取8个位平面（bit 0到bit 7）
  - 将二值结果缩放到0-255以便可视化
  - 返回8个位平面图像的列表
  - _Requirements: 3.2, 3.3_

- [x] 4.2 实现位平面重构函数
  - 编写 `reconstruct_from_bit_planes()` 函数
  - 根据选定的位平面索引重构图像
  - 支持任意位平面组合
  - _Requirements: 3.7_

- [x] 4.3 实现图像加载
  - 加载测试图像（可使用图 a.png 或图 b.png）
  - 转换为灰度图像
  - 添加错误处理
  - _Requirements: 3.1_

- [x] 4.4 实现位平面可视化功能
  - 创建3×3子图布局
  - 第一个位置显示原始图像
  - 其余8个位置显示bit 7到bit 0
  - 清晰标注每个位平面的位序号
  - _Requirements: 3.4, 3.5, 3.6_

- [x] 4.5 添加位平面重构演示
  - 展示使用不同位平面组合重构的效果
  - 例如：仅MSB、高4位、低4位等
  - 可视化对比不同组合的图像质量
  - _Requirements: 3.7_

- [x] 4.6 添加结果保存功能
  - 保存所有位平面图像
  - 保存完整的可视化结果图
  - 保存重构实验结果
  - _Requirements: 3.8_

- [x] 5. 测试和文档
  - _Requirements: 1.1-1.7, 2.1-2.7, 3.1-3.8_

- [x] 5.1 测试所有程序
  - 使用提供的测试图像运行所有3个程序
  - 验证输出结果的正确性
  - 检查可视化效果
  - _Requirements: 1.1-1.7, 2.1-2.7, 3.1-3.8_

- [x] 5.2 创建使用说明文档
  - 编写README说明如何运行每个程序
  - 说明输入图像路径和输出位置
  - 包含示例运行命令
  - _Requirements: 1.1-1.7, 2.1-2.7, 3.1-3.8_
