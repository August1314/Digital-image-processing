# 第四章作业实现任务列表

- [x] 1. 创建项目结构和基础设施
  - 创建 `实验/第四章/代码/` 目录
  - 创建 `实验/第四章/输出结果/` 目录结构
  - 创建 README.md 说明文件
  - _需求: 3.3, 3.4, 4.5, 4.6_

- [ ] 2. 实现作业1：二维FFT变换
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 2.1 实现图像加载和预处理模块
  - 实现 `load_image()` 函数：加载图像并转换为灰度图
  - 实现 `pad_to_power_of_2()` 函数：将图像填充到2的幂次尺寸
  - 添加图像尺寸验证和错误处理
  - _需求: 1.1, 1.5_

- [x] 2.2 实现FFT变换核心功能
  - 实现 `fft2d()` 函数：执行二维快速傅里叶变换
  - 实现 `ifft2d()` 函数：执行二维逆快速傅里叶变换
  - 实现 `fft_shift()` 函数：频谱中心化
  - 添加FFT正确性验证（FFT→IFFT应恢复原图）
  - _需求: 1.1, 1.2, 1.4_

- [x] 2.3 实现频谱分析功能
  - 实现 `compute_magnitude_spectrum()` 函数：计算幅度谱（支持对数尺度）
  - 实现 `compute_phase_spectrum()` 函数：计算相位谱
  - 添加数值稳定性保护（避免log(0)等）
  - _需求: 1.3_

- [x] 2.4 实现FFT可视化功能
  - 实现 `visualize_fft()` 函数：显示原图、幅度谱、相位谱、重构图
  - 使用对数尺度增强频谱显示
  - 添加统计信息标注（MSE、图像尺寸等）
  - 使用英文标签避免中文字体问题
  - _需求: 1.3, 3.1, 3.5_

- [x] 2.5 实现作业1主程序
  - 编写 `作业1_二维FFT变换.py` 主程序
  - 集成所有模块：加载图像 → FFT → 频谱分析 → 可视化
  - 实现结果保存功能（频谱图、重构图像、完整结果）
  - 添加命令行输出和进度提示
  - _需求: 1.3, 3.1, 3.3, 4.1, 4.3, 4.5_

- [ ] 3. 实现作业2：高斯低通滤波
  - _需求: 2.1, 2.2, 2.3, 2.4, 2.5, 2.6_

- [x] 3.1 实现高斯滤波器生成
  - 实现 `create_gaussian_filter()` 函数：生成高斯低通滤波器
  - 使用公式 H(u,v) = exp(-D²(u,v) / (2*D0²))
  - 支持自定义截止频率和中心位置
  - 验证滤波器属性（中心为1、边缘接近0、对称性）
  - _需求: 2.1_

- [x] 3.2 实现频域滤波功能
  - 实现 `apply_frequency_filter()` 函数：在频率域应用滤波器
  - 实现 `calculate_energy_ratio()` 函数：计算能量保留率
  - 实现 `find_cutoff_for_energy()` 函数：自动寻找95%能量对应的截止频率
  - 添加能量计算的数值稳定性保护
  - _需求: 2.2, 2.3, 2.4_

- [x] 3.3 实现滤波可视化功能
  - 实现 `visualize_filtering()` 函数：展示完整滤波流程
  - 布局：第一行（原图、原始频谱、滤波器），第二行（滤波后频谱、结果图、能量信息）
  - 参考教材图4.35的展示风格
  - 标注关键参数（截止频率、能量保留率）
  - _需求: 2.5, 2.6, 3.2, 3.6_

- [x] 3.4 实现作业2主程序
  - 编写 `作业2_高斯低通滤波.py` 主程序
  - 集成所有模块：加载图像 → FFT → 生成滤波器 → 应用滤波 → 逆FFT
  - 自动寻找95%能量保留率的截止频率
  - 实现结果保存功能（滤波后图像、频谱对比、完整结果）
  - 添加命令行输出和进度提示
  - _需求: 2.4, 2.5, 2.6, 3.2, 3.4, 4.2, 4.4, 4.6_

- [ ] 4. 创建文档和运行脚本
  - _需求: 3.3, 3.4_

- [x] 4.1 创建README文档
  - 编写 `实验/第四章/README.md`
  - 说明文件结构、运行方法、环境要求
  - 包含conda环境激活说明
  - 说明输出结果的位置和内容
  - _需求: 3.3, 3.4_

- [ ]* 4.2 创建运行脚本
  - 创建 `运行所有作业.sh` 脚本
  - 自动激活conda环境并运行两个作业
  - 添加错误处理和日志输出
  - _需求: 3.3, 3.4_

- [ ]* 5. 测试和验证
  - _需求: 1.4, 2.4_

- [ ]* 5.1 验证FFT正确性
  - 测试FFT→IFFT恢复原图（MSE < 1e-10）
  - 测试不同尺寸图像（包括非2的幂次）
  - 验证频谱的对称性
  - _需求: 1.4_

- [ ]* 5.2 验证滤波效果
  - 验证能量保留率计算的准确性
  - 测试不同截止频率的滤波效果
  - 验证95%能量保留率的自动搜索
  - 检查滤波后图像的平滑效果
  - _需求: 2.4_

- [ ]* 5.3 视觉质量检查
  - 检查频谱可视化（低频中心、高频边缘）
  - 检查滤波结果与教材图4.35的相似性
  - 验证所有输出图像的质量
  - _需求: 2.6, 3.1, 3.2_
