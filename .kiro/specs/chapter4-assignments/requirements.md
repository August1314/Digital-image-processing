# 第四章作业需求文档

## 简介

本文档定义了数字图像处理第四章（频率域滤波）的编程作业需求。作业包括实现二维快速傅里叶变换（2D FFT）及其逆变换，以及使用高斯低通滤波器进行频率域滤波处理。

## 术语表

- **FFT系统**: 实现二维快速傅里叶变换及逆变换的图像处理系统
- **滤波系统**: 在频率域对图像进行高斯低通滤波的处理系统
- **频谱图**: 傅里叶变换后的频率域表示的可视化图像
- **能量保留率**: 滤波后保留的频率能量占原始总能量的百分比

## 需求

### 需求 1: 二维FFT实现

**用户故事:** 作为图像处理研究者，我希望实现二维快速傅里叶变换及其逆变换，以便在频率域分析和处理图像。

#### 验收标准

1. WHEN 输入图像尺寸为 M×M 且 M=2^P（P为正整数），THE FFT系统 SHALL 成功执行二维快速傅里叶变换
2. THE FFT系统 SHALL 实现二维快速傅里叶逆变换功能
3. THE FFT系统 SHALL 显示原始图像、频谱图（幅度谱）和相位谱
4. THE FFT系统 SHALL 通过逆变换重构图像并验证变换的正确性
5. WHERE 输入图像尺寸不是2的幂次，THE FFT系统 SHALL 对图像进行零填充至最近的2的幂次尺寸

### 需求 2: 高斯低通滤波

**用户故事:** 作为图像处理研究者，我希望使用高斯低通滤波器在频率域处理图像，以便实现平滑和去噪效果。

#### 验收标准

1. THE 滤波系统 SHALL 实现高斯低通滤波器的生成功能
2. THE 滤波系统 SHALL 在频率域应用高斯低通滤波器
3. THE 滤波系统 SHALL 计算滤波器保留的能量占总能量的百分比
4. WHEN 调整滤波器截止频率，THE 滤波系统 SHALL 使能量保留率达到约95%
5. THE 滤波系统 SHALL 显示原始图像、频谱图、滤波器、滤波后频谱和重构图像
6. THE 滤波系统 SHALL 展示类似教材图4.35的完整处理流程

### 需求 3: 可视化和结果保存

**用户故事:** 作为图像处理研究者，我希望系统能够清晰地可视化处理过程和结果，以便分析和报告。

#### 验收标准

1. THE FFT系统 SHALL 生成包含原始图像、频谱图和重构图像的综合可视化结果
2. THE 滤波系统 SHALL 生成包含完整处理流程的可视化结果（原图、频谱、滤波器、滤波后频谱、结果图）
3. THE FFT系统 SHALL 将所有结果图像保存到指定输出目录
4. THE 滤波系统 SHALL 将所有结果图像保存到指定输出目录
5. THE FFT系统 SHALL 在频谱可视化中使用对数变换以增强显示效果
6. THE 滤波系统 SHALL 在可视化中标注能量保留率等关键参数

### 需求 4: 代码结构和可维护性

**用户故事:** 作为开发者，我希望代码结构清晰、模块化，以便于理解、维护和扩展。

#### 验收标准

1. THE FFT系统 SHALL 将FFT变换、可视化和主程序逻辑分离为独立函数
2. THE 滤波系统 SHALL 将滤波器生成、频域处理和可视化分离为独立函数
3. THE FFT系统 SHALL 包含详细的函数文档字符串说明参数和返回值
4. THE 滤波系统 SHALL 包含详细的函数文档字符串说明参数和返回值
5. THE FFT系统 SHALL 遵循第三章作业的代码风格和命名规范
6. THE 滤波系统 SHALL 遵循第三章作业的代码风格和命名规范
